<!DOCTYPE html>
<html lang="en">
<head>
  <style>
    ::-webkit-scrollbar {
      display: none;
    }
  </style>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">
  <title>Dashboard</title>
  <meta name="google-site-verification" content="57ojS5ZUvzfapLNXZ3loOraMw3dSHtMuVi8pMCyi410" /> <!-- Google Search Console -->
  <!-- Custom fonts for this template-->
  <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>
  <!-- Custom styles for this template-->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/startbootstrap-sb-admin-2/3.3.7+1/css/sb-admin-2.css" rel="stylesheet preload">
  <link rel="stylesheet preload" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
  <link href="https://cdn.datatables.net/1.10.20/css/dataTables.bootstrap4.min.css" rel="stylesheet">
</head>
<body>
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="navbar-brand">Online Apps</div>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <div class="navbar-nav mr-auto">
        <a class="nav-item nav-link" href="index.html">Home</a>
        <a class="nav-item nav-link" href="VisualSort.html">Sorting Visualiser</a>
        <a class="nav-item active nav-link" href="dashboard.html">Dashboard</a>
      </div>
    </div>
  </nav>
  <div class="container-fluid">
    <div class="row">
      <div class="col-xl-8 col-lg-7 mt-2 mb-4">
        <!-- Bar Chart -->
        <div class="card shadow h-100">
          <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
            <h6 class="m-0 font-weight-bold text-primary">Student Intake by Subject</h6>
            <div class="dropdown">
              <a href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="fas fa-ellipsis-v fa-sm fa-fw text-gray-400"></i>
              </a>
              <div class="dropdown-menu dropdown-menu-right shadow animated--fade-in" aria-labelledby="dropdownMenuLink">
                <div class="dropdown-header">Options:</div>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="#" onclick="openModal(1, 'Add')" data-toggle="modal" data-target="#Modal">Add</a>
                <a class="dropdown-item" href="#" onclick="openModal(1, 'Edit')" data-toggle="modal" data-target="#Modal">Edit</a>
              </div>
            </div>
          </div>
          <div class="card-body">
            <div class="chart-bar" style="position: relative; height:30vh;">
              <canvas id="Students"></canvas>
            </div>
          </div>
        </div>
      </div>
      <!-- Pie Chart -->
      <div class="col-xl-4 col-lg-5 mt-2 mb-4">
        <div class="card shadow h-100">
          <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
            <h6 class="m-0 font-weight-bold text-primary">Number of Working Computers</h6>
            <div class="dropdown">
              <a href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="fas fa-ellipsis-v fa-sm fa-fw text-gray-400"></i>
              </a>
              <div class="dropdown-menu dropdown-menu-right shadow animated--fade-in" aria-labelledby="dropdownMenuLink">
                <div class="dropdown-header">Options:</div>
                 <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="#" onclick="openModal(2, 'Edit')" data-toggle="modal" data-target="#Modal">Edit</a>
              </div>
            </div>
          </div>
          <div class="card-body">
            <div class="chart-pie" style="position: relative; height:25vh;">
              <canvas id="Computers"></canvas>
            </div>
            <div class="mt-4 text-center small">
              <span class="mr-2">
                <i class="fas fa-circle text-primary"></i> Operational
              </span>
              <span class="mr-2">
                <i class="fas fa-circle text-success"></i> Faulty
              </span>
            </div>
          </div>
        </div>
      </div>
      <!-- Stacked Bar graph -->
      <div class="col-xl-12 col-lg-12">
        <div class="card shadow mb-4">
          <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
            <h6 class="m-0 font-weight-bold text-primary">Items</h6>
            <div class="dropdown">
              <a href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="fas fa-ellipsis-v fa-sm fa-fw text-gray-400"></i>
              </a>
              <div class="dropdown-menu dropdown-menu-right shadow animated--fade-in" aria-labelledby="dropdownMenuLink">
                <div class="dropdown-header">Options:</div>
                 <div class="dropdown-divider"></div>
                 <a class="dropdown-item" href="#" onclick="openModal(3, 'Add')" data-toggle="modal" data-target="#Modal">Add</a>
                <a class="dropdown-item" href="#" onclick="openModal(3, 'Edit')" data-toggle="modal" data-target="#Modal">Edit</a>
              </div>
            </div>
          </div>
          <div class="card-body">
            <div class="chart-pie" style="position: relative; height:25vh;">
              <canvas id="Items"></canvas>
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-12">
      <!-- Bar Chart -->
      <div class="card shadow mb-4">
        <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
          <h6 class="m-0 font-weight-bold text-primary">Venues</h6>
           <div class="dropdown">
            <a href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              <i class="fas fa-ellipsis-v fa-sm fa-fw text-gray-400"></i>
            </a>
            <div class="dropdown-menu dropdown-menu-right shadow animated--fade-in" aria-labelledby="dropdownMenuLink">
              <div class="dropdown-header">Options:</div>
              <div class="dropdown-divider"></div>
              <a class="dropdown-item" href="#" onclick="openModal(4, 'Add')" data-toggle="modal" data-target="#Modal">Add</a>
              <a class="dropdown-item" href="#" onclick="openModal(4, 'Edit')" data-toggle="modal" data-target="#Modal">Edit</a>
            </div>
          </div>
        </div>
        <div class="card-body">
          <div class="chart-bar" style="position: relative; height:25vh;">
            <canvas id="Venues"></canvas>
          </div>
        </div>
      </div>
      </div>
      <div class="col-lg-12">
        <div class="card shadow mb-4">
          <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
            <h6 class="m-0 font-weight-bold text-primary">Teacher Information</h6>
            <div class="dropdown">
                <a href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <i class="fas fa-ellipsis-v fa-sm fa-fw text-gray-400"></i>
                </a>
                <div class="dropdown-menu dropdown-menu-right shadow animated--fade-in" aria-labelledby="dropdownMenuLink">
                  <div class="dropdown-header">Options:</div>
                    <div class="dropdown-divider"></div>
                    <a class="dropdown-item" href="#" onclick="openModal(5, 'Add')" data-toggle="modal" data-target="#Modal">Add</a>
                  <a class="dropdown-item" href="#" onclick="openModal(5, 'Edit')" data-toggle="modal" data-target="#Modal">Edit</a>
                </div>
            </div>
          </div>
          <div class="card-body">
            <div class="table-responsive">
              <table class="table table-striped table-bordered" id="dataTable" width="100%" cellspacing="0"></table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="modal fade" id="Modal" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="ModalLabel"></h5>
          <button class="close" type="button" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">Ã—</span>
          </button>
        </div>
          <form class="p-3" id="mainForm">
            <div class="form-group" id="firstTextContainer">
            </div>
            <div class="form-group" id="secondTextContainer">
            </div>
            <div class="form-group" id="thirdTextContainer"> 
            </div>
          </form>
        <div class="modal-footer">
          <a class="btn btn-primary" href="#" id="submitBtn" onclick="editData(firstBox.value, secondBox.value, submitBtn.value)" data-dismiss="modal">Submit</a>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
<script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"></script>
<!-- Custom scripts for all pages-->
<script src="https://cdn.datatables.net/1.10.20/js/dataTables.bootstrap4.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
 <!-- Page level custom scripts -->
<script>
var status;
var colours = ['#4e73df', '#1cc88a', '#36b9cc', '#eb4034', '#ffce56', '#9966ff', '#d99b00','#f04dea'];
// Local Storage

  // Store Subject Labels
  let SubjectLabel = [];
  SubjectLabel.push("Art", "Business", "IT", "Music", "Maths");
  localStorage.setItem("SubjectLabel", JSON.stringify(SubjectLabel));
  // Subject Data
  let value = [10, 19, 13, 8, 18];
  localStorage.setItem("SubjectData", JSON.stringify(value));
  // Store Computers 
  value = [230, 20];
  localStorage.setItem("Computers", JSON.stringify(value));
  // Store Subject Labels
  let ItemLabels = [];
  ItemLabels.push("Chairs", "Tables", "Printers", "Notice Boards", "Mice", "Keyboards", "Monitors");
  localStorage.setItem("ItemLabels", JSON.stringify(ItemLabels));
  // Store In-Use Items
  value = [400, 200, 20, 50, 250, 250, 250];
  localStorage.setItem("UseItem", JSON.stringify(value));
  // Store Free Items
  value = [100, 50, 5, 5, 50, 50, 50];
  localStorage.setItem("FreeItem", JSON.stringify(value));
  // Venue Label
  let VenueLabels = [];
  VenueLabels.push("Classrooms", "Labs", "Offices");
  localStorage.setItem("VenueLabels", JSON.stringify(VenueLabels));
  // Store Venue
  value = [100, 20, 60];
  localStorage.setItem("Venue", JSON.stringify(value));
  // Store Teachers
  let Teachers = [];
  Teachers.push(
    'Bob Dillion',
    'Carol Robinson',
    'James Matthews',
    'Karen Smith',
    'Steve Williams'
  );
  localStorage.setItem("Teachers", JSON.stringify(Teachers));
  let TeacherEducation = [];
  TeacherEducation.push(
    'Art',
    'Maths',
    'Business',
    'Music',
    'IT'
  );
  localStorage.setItem("TeacherEducation", JSON.stringify(TeacherEducation));
  processTeachers(Teachers, TeacherEducation);


function processTeachers(Teachers, TeacherEducation) {
  let TeachersData = [];
  for (var i = 0; i < TeacherEducation.length; i++){
    TeachersData.push([Teachers[i],TeacherEducation[i]]);
  }
  localStorage.setItem("TeachersData", JSON.stringify(TeachersData));
}

function openModal(number, option){
  $("#firstBox").remove();
  $("#textboxLabel1").remove();
  $("#secondBox").remove();
  $("#textboxLabel2").remove();
  $("#thirdBox").remove();
  $("#boxLabel3").remove();
  switch(true){
    case number == 1 && option == "Add":
      dropdownToText(1);
      break;
    case number == 1 && option == "Edit":
      var dropdownContent = [JSON.parse(localStorage.getItem("SubjectLabel"))];
      dropdownLoop(dropdownContent, 1);
      break;
    case number == 2 && option == "Edit":
      var dropdownContent = [["Operational", "Faulty"]];
      dropdownLoop(dropdownContent, 2);
      break;
    case number == 3 && option == "Add":
      dropdownToText(3);
      break;
    case number == 3 && option == "Edit":
      var dropdownContent = [["In-Use", "Available"],JSON.parse(localStorage.getItem("ItemLabels"))];
      dropdownLoop(dropdownContent, 3);
      break;
    case number == 4 && option == "Add":
      dropdownToText(4);
      break;
    case number == 4 && option == "Edit":
      var dropdownContent = [JSON.parse(localStorage.getItem("VenueLabels"))];
      dropdownLoop(dropdownContent, 4);
      break;
    case number == 5 && option == "Add":
      dropdownToText(5);
      break;
    case number == 5 && option == "Edit":
      var dropdownContent = [JSON.parse(localStorage.getItem("Teachers"))];
      dropdownLoop(dropdownContent, 5);
      break;
  }
}

function dropdownToText(number){ // Add
  status = "Add";
  var firstBox = "<input class='form-control' id='firstBox' type='textbox'/>";
  var secondBox = "<input class='form-control' id='secondBox' type='textbox'/>";
  var thirdBox = "<input class='form-control' id='thirdBox' type='textbox'/>";
  var boxLabel1 = "<label class='col-form-label' id='boxLabel1'></label>";
  var boxLabel2 = "<label class='col-form-label' id='boxLabel2'></label>";
  var boxLabel3 = "<label class='col-form-label' id='boxLabel3'></label>";
  document.getElementById("ModalLabel").innerHTML = "Add data";
  if(!$("#textbox1").length){
    $("#firstTextContainer").append(boxLabel1);
    $("#firstTextContainer").append(firstBox);
    $("#secondTextContainer").append(boxLabel2);
    $("#secondTextContainer").append(secondBox);
  }
  if (number == 1) {
    document.getElementById("boxLabel1").innerHTML = "Add Subject:";
    document.getElementById("boxLabel2").innerHTML = "Quantity:";
    document.getElementById("submitBtn").value = "Students";
    $("#secondText").remove();
  }
  else if (number == 3) {
    $("#thirdTextContainer").append(boxLabel3);
    $("#thirdTextContainer").append(thirdBox);
    document.getElementById("boxLabel1").innerHTML = "Add Item:";
    document.getElementById("boxLabel2").innerHTML = "Available Quantity:";
    document.getElementById("boxLabel3").innerHTML = "In-Use Quantity:";
    document.getElementById("submitBtn").value = "Items";
  }
  else if (number == 4){
    document.getElementById("boxLabel1").innerHTML = "Add Venue:";
    document.getElementById("boxLabel2").innerHTML = "Quantity:";
    document.getElementById("submitBtn").value = "Venues";
    $("#secondText").remove();
  }
  else if(number == 5){
    document.getElementById("boxLabel1").innerHTML = "Add Teacher Name:";
    document.getElementById("boxLabel2").innerHTML = "Education Background:";
    document.getElementById("submitBtn").value = "Teachers";
  }
}

function dropdownLoop(dropdownContent, number){ // Edit
  var k = 1; status = "Edit";
  var firstBox = "<select class='custom-select' id='firstBox'></select>";
  var secondBox = number != 3 ? "<input class='form-control' id='secondBox' type='textbox'/>" : "<select class='custom-select' id='secondBox'></select>";
  var thirdBox = "<input class='form-control' id='thirdBox' type='textbox'/>";
  var boxLabel1 = "<label class='col-form-label' id='boxLabel1'></label>";
  var boxLabel2 = "<label class='col-form-label' id='boxLabel2'></label>";
  var boxLabel3 = "<label class='col-form-label' id='boxLabel3'></label>";
  document.getElementById("ModalLabel").innerHTML = "Edit data";
  if(!$("#textbox1").length){
    $("#firstTextContainer").append(boxLabel1);
    $("#firstTextContainer").append(firstBox);
    $("#secondTextContainer").append(boxLabel2);
    $("#secondTextContainer").append(secondBox);
  }
  if (number == 1){
    document.getElementById("boxLabel1").innerHTML = "Choose Subject:";
    document.getElementById("boxLabel2").innerHTML = "Quantity:";
    document.getElementById("submitBtn").value = "Students";
  }
  else if (number == 2){
    document.getElementById("boxLabel1").innerHTML = "Choose Computer Status:";
    document.getElementById("boxLabel2").innerHTML = "Quantity:";
    document.getElementById("submitBtn").value = "Computers";
  }
  else if (number == 3){
    k = 2;
    $("#thirdTextContainer").append(boxLabel3);
    $("#thirdTextContainer").append(thirdBox);
    document.getElementById("boxLabel1").innerHTML = "Choose Availabilty:";
    document.getElementById("boxLabel2").innerHTML = "Choose Items:";
    document.getElementById("boxLabel3").innerHTML = "Quantity:";
    document.getElementById("submitBtn").value = "Items";
  }
  else if (number == 4){
    document.getElementById("boxLabel1").innerHTML = "Choose Venue:";
    document.getElementById("boxLabel2").innerHTML = "Quantity:";
    document.getElementById("submitBtn").value = "Venues";
  }
  else if (number == 5){
    document.getElementById("boxLabel1").innerHTML = "Choose Teacher:";
    document.getElementById("boxLabel2").innerHTML = "Education Background:";
    document.getElementById("submitBtn").value = "Teachers";
  }
  firstBox = document.getElementById('firstBox');
  secondBox = document.getElementById('secondBox');
  for (var j = 0; j < k; j++){
    for (var i = 0; i < dropdownContent[j].length; i++){
      var option = document.createElement("option");
      option.text = dropdownContent[j][i];
      option.value = i;
      j != 1 ? firstBox.appendChild(option) : secondBox.appendChild(option);
    }
  }
}
// Table
var myTable = $('#dataTable').DataTable({
  data: JSON.parse(localStorage.getItem("TeachersData")),
  columns: [
    {"title": "Teachers Name" },
    {"title": "Education Background" } 
  ]
});

// bar graph
var ctx = document.getElementById('Students').getContext('2d');
var Students = new Chart(ctx, {
    type: 'bar',
    data: {
        labels: JSON.parse(localStorage.getItem("SubjectLabel")),
        datasets: [{
            label: 'Number of Students',
            data: JSON.parse(localStorage.getItem("SubjectData")),
            backgroundColor: colours,
        }],
    },
    options: {
      maintainAspectRatio: false,
      legend: {
        display: false
      },
      layout: {
        padding: {
          left: 10,
          right: 25
        },
      },
      tooltips: {
            mode: 'index',
            intersect: false,
      },
        scales: {
            xAxes: [{
              gridLines: {
                display: false,
                drawBorder: false
              }
            }],
            yAxes: [{
                ticks: {
                    beginAtZero: true
                },
                gridLines: {
                    color: "rgb(234, 236, 244)",
                    zeroLineColor: "rgb(234, 236, 244)",
                    drawBorder: false,
                    borderDash: [2],
                    zeroLineBorderDash: [2]
                }
            }]
        }
    }
});
// Pie Chart Example
var ctx = document.getElementById("Computers");
var Computers = new Chart(ctx, {
  type: 'pie',
  data: {
    labels: ["Operational", "Faulty"],
    datasets: [{
      data: JSON.parse(localStorage.getItem("Computers")),
      backgroundColor: colours,
    }],
  },
  options: {
    maintainAspectRatio: false,
    tooltips: {
      backgroundColor: "rgb(255,255,255)",
      bodyFontColor: "#858796",
      borderColor: '#dddfeb',
      borderWidth: 1,
      xPadding: 15,
      yPadding: 15,
      displayColors: false,
      caretPadding: 10,
    },
      legend: {
      display: false
    }
  },
});
//Stacked bar graph
var ctx = document.getElementById("Items");
var Items = new Chart(ctx, {
  type: 'bar',
  data: {
  labels: JSON.parse(localStorage.getItem("ItemLabels")),
  datasets: [{
    label: 'In-Use',
    backgroundColor: colours,
    data: JSON.parse(localStorage.getItem("UseItem"))
    },
    {
      label: 'Available',
      backgroundColor: colours.slice().reverse(),
      data: JSON.parse(localStorage.getItem("FreeItem"))
    }],
  },
  options: {
    maintainAspectRatio: false,
    legend: {
      position: 'bottom',
    },
    tooltips: {
      mode: 'index',
      intersect: false,
    },
    scales: {
      xAxes: [{
        stacked: true,
      }],
      yAxes: [{
        stacked: true,
         ticks: {
           beginAtZero: true
          },
      gridLines: {
          color: "rgb(234, 236, 244)",
          zeroLineColor: "rgb(234, 236, 244)",
          drawBorder: false,
          borderDash: [2],
          zeroLineBorderDash: [2]
      }
      }]
    }
  },
});
// bar graph
var ctx = document.getElementById('Venues').getContext('2d');
var Venues = new Chart(ctx, {
    type: 'horizontalBar',
    data: {
        labels: JSON.parse(localStorage.getItem("VenueLabels")),
        datasets: [{
            label: 'Quantity',
            data: JSON.parse(localStorage.getItem("Venue")),
            backgroundColor: colours,
        }],
    },
    options: {
      maintainAspectRatio: false,
      legend: {
        display: false
      },
      layout: {
        padding: {
          left: 10,
          right: 25
        },
      },
        tooltips: {
            mode: 'index',
            intersect: false,
            axis: 'y'
        },
        scales: {
            xAxes: [{
              gridLines: {
                display: false,
                drawBorder: false
              },
              ticks: {
                beginAtZero: true
                },
              gridLines: {
                color: "rgb(234, 236, 244)",
                zeroLineColor: "rgb(234, 236, 244)",
                drawBorder: false,
                borderDash: [2],
                zeroLineBorderDash: [2]
                }
            }]
        }
    }
});
// Edit data
function editData(firstBox, secondBox, btnValue){
  //$("#firstBox option:selected").text() // Dropdown
  var message = secondBox;
  switch(true){
    case btnValue == "Students" && status == "Add":
      if (JSON.parse(localStorage.getItem("SubjectLabel")).length < 8){
        let SubjectLabel = JSON.parse(localStorage.getItem("SubjectLabel"));
        let SubjectData = JSON.parse(localStorage.getItem("SubjectData"));
        SubjectLabel.push(document.getElementById("firstBox").value);
        SubjectData.push(document.getElementById("secondBox").value);
        localStorage.setItem("SubjectLabel", JSON.stringify(SubjectLabel));
        localStorage.setItem("SubjectData", JSON.stringify(SubjectData));
        // Chart data needs to reset
        Students.data.labels = JSON.parse(localStorage.getItem("SubjectLabel"));
        Students.data.datasets[0].data = JSON.parse(localStorage.getItem("SubjectData"));
        Students.update();
      } else {
        alert("Cannot have more than 8 items on one chart.");
      }
      break;
    case btnValue == "Students" && status == "Edit":
      Students.data.datasets[0].data[firstBox] = message; 
      var SubjectData = JSON.parse(localStorage.getItem("SubjectData"));
      SubjectData[firstBox] = message;
      localStorage.setItem("SubjectData", JSON.stringify(SubjectData));
      Students.update();
      break;
    case btnValue == "Computers" && status == "Edit":
      Computers.data.datasets[0].data[firstBox] = message;
      var ComputersData = JSON.parse(localStorage.getItem("Computers"));
      ComputersData[firstBox] = message;
      localStorage.setItem("Computers", JSON.stringify(ComputersData));
      Computers.update();
      break;
    case btnValue == "Items" && status == "Add":
      if (JSON.parse(localStorage.getItem("ItemLabels")).length < 8){
        let ItemLabels = JSON.parse(localStorage.getItem("ItemLabels"));
        let UseItem = JSON.parse(localStorage.getItem("UseItem"));
        let FreeItem = JSON.parse(localStorage.getItem("FreeItem"));
        ItemLabels.push(document.getElementById("firstBox").value);
        UseItem.push(document.getElementById("secondBox").value);
        FreeItem.push(document.getElementById("thirdBox").value);
        localStorage.setItem("ItemLabels", JSON.stringify(ItemLabels));
        localStorage.setItem("UseItem", JSON.stringify(UseItem));
        localStorage.setItem("FreeItem", JSON.stringify(FreeItem));
        // Chart data needs to reset
        Items.data.labels = JSON.parse(localStorage.getItem("ItemLabels"));
        Items.data.datasets[0].data = JSON.parse(localStorage.getItem("UseItem"));
        Items.data.datasets[1].data = JSON.parse(localStorage.getItem("FreeItem"));
        Items.update();
      } else {
        alert("Cannot have more than 8 items on one chart.");
      }
      break;
    case btnValue == "Items" && status == "Edit":
      message = thirdBox.value;
      Items.data.datasets[firstBox].data[secondBox] = message;
      if(firstBox == 0){
        let InUseItem = JSON.parse(localStorage.getItem("UseItem"));
        InUseItem[firstBox] = message;
        localStorage.setItem("UseItem", JSON.stringify(InUseItem));
      }
      else if (firstBox == 1){
        let FreeItem = JSON.parse(localStorage.getItem("FreeItem"));
        FreeItem[firstBox] = message;
        localStorage.setItem("FreeItem", JSON.stringify(FreeItem));
      }
      Items.update();
      break;
    case btnValue == "Venues" && status == "Add":
      if (JSON.parse(localStorage.getItem("VenueLabels")).length < 8){
        let VenueLabels = JSON.parse(localStorage.getItem("VenueLabels"));
        let Venue = JSON.parse(localStorage.getItem("Venue"));
        VenueLabels.push(document.getElementById("firstBox").value);
        Venue.push(document.getElementById("secondBox").value);
        localStorage.setItem("VenueLabels", JSON.stringify(VenueLabels));
        localStorage.setItem("Venue", JSON.stringify(Venue));
        // Chart data needs to reset
        Venues.data.labels = JSON.parse(localStorage.getItem("VenueLabels"));
        Venues.data.datasets[0].data = JSON.parse(localStorage.getItem("Venue"));
        Venues.update();
      } else {
        alert("Cannot have more than 8 items on one chart.");
      }
      break;
    case btnValue == "Venues" && status == "Edit":
      Venues.data.datasets[0].data[firstBox] = message;
      let VenueData = JSON.parse(localStorage.getItem("VenueData"));
      VenueData[firstBox] = message;
      localStorage.setItem("Venue", JSON.stringify(VenueData));
      Venues.update();
      break;
    case btnValue == "Teachers" && status == "Add":
      var Teachers = JSON.parse(localStorage.getItem("Teachers"));
      var TeacherEducation = JSON.parse(localStorage.getItem("TeacherEducation"));;
      Teachers.push(document.getElementById("firstBox").value);
      TeacherEducation.push(document.getElementById("secondBox").value);
      localStorage.setItem("Teachers", JSON.stringify(Teachers));
      localStorage.setItem("TeacherEducation", JSON.stringify(TeacherEducation));
      processTeachers(Teachers, TeacherEducation);
      break;
    case btnValue == "Teachers" && status == "Edit":
      var Teachers = JSON.parse(localStorage.getItem("Teachers"));
      var TeacherEducation = JSON.parse(localStorage.getItem("TeacherEducation"));
      TeacherEducation[firstBox] = document.getElementById("secondBox").value;
      localStorage.setItem("TeacherEducation", JSON.stringify(TeacherEducation));
      processTeachers(Teachers, TeacherEducation);
      myTable.cell(firstBox, 1).data(message);
      break;
    default:
      break;
  }
}
</script>
</body>
</html>